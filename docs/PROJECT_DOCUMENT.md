# ğŸ“‹ SUNA - PROJECT DOCUMENTATION
*Generated by BMad Master - Complete Project Analysis & Architecture Guide*

---

## ğŸ“Š PROJECT OVERVIEW

### ğŸ¯ Mission Statement
**Suna** (formerly Epsilon) is a comprehensive open-source AI agent platform that empowers organizations to build, deploy, and manage sophisticated autonomous AI agents. The platform features **ChainLens** as its flagship generalist AI worker, demonstrating advanced capabilities in research, automation, and analysis with integrated crypto market intelligence.

### ğŸ¢ Project Identity
- **Project Name**: Suna (Advanced AI Agent Platform)
- **Core Product**: ChainLens - Flagship AI Worker
- **License**: Apache-2.0
- **Version**: 1.0 (Backend), Multi-component versioning
- **Repository**: https://github.com/epsilon-ai/chainlens
- **Website**: https://www.chainlens.net/

### ğŸ¨ Brand & Community
- **Discord**: https://discord.gg/Py6pCBUUPw
- **Twitter**: https://x.com/epsilonai
- **Multi-language Support**: 8 languages (EN, DE, ES, FR, JA, KO, PT, RU, ZH)
- **Community-driven**: Active contribution ecosystem

---

## ğŸ—ï¸ ARCHITECTURE ANALYSIS

### ğŸ”§ System Architecture
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Frontend (Next.js 15)                  â”‚
â”‚         React 18 + TypeScript + Tailwind CSS          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ API Communication
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Backend (Python FastAPI)                 â”‚
â”‚    LiteLLM + Supabase + Redis + Dramatiq Workers      â”‚
â”‚    Service Integration via Direct HTTP Calls          â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                   â”‚
       â”‚     Direct HTTP Connections      â”‚
       â”‚                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Microservices (NestJS)                â”‚    â”‚ ChainLens   â”‚
â”‚  â€¢ OnChain Service (Port 3001)         â”‚    â”‚ Core        â”‚
â”‚  â€¢ Sentiment Service (Port 3002)       â”‚    â”‚ Orchestratorâ”‚
â”‚  â€¢ Tokenomics Service (Port 3003)      â”‚    â”‚ (Port 3006) â”‚
â”‚  â€¢ Team Analysis Service (Port 3004)   â”‚    â”‚ Standalone  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Agent Runtime Engine                     â”‚
â”‚    Browser Automation + Code Interpreter + Tools      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ§© Component Breakdown

#### 1ï¸âƒ£ Frontend Layer (Port 3000)
- **Framework**: Next.js 15 vá»›i App Router
- **Language**: TypeScript
- **Styling**: Tailwind CSS 4 vá»›i Tailwind Animate
- **UI Components**: Radix UI, Shadcn/ui
- **State Management**: React Query (TanStack), Zustand
- **Features**: Real-time chat, agent configuration, monitoring dashboards

#### 2ï¸âƒ£ Backend API (Port 8000)
- **Framework**: FastAPI vá»›i Python 3.11+
- **Database**: Supabase PostgreSQL vá»›i Row Level Security
- **Cache/Queue**: Redis 5.2+ vá»›i Upstash
- **Background Processing**: Dramatiq 1.18+
- **LLM Integration**: LiteLLM 1.75+ (multi-provider)
- **Authentication**: Supabase Auth vá»›i JWT

#### 3ï¸âƒ£ Microservices Architecture (Ports 3001-3006)
**Connected Services (3001-3004):**
- **OnChain Service**: Blockchain data analysis, Web3 integrations
- **Sentiment Service**: Social media monitoring, sentiment tracking
- **Tokenomics Service**: Financial metrics, token economics
- **Team Service**: Verification, credibility scoring

**Standalone Service (3006):**
- **ChainLens Core**: Independent orchestrator (not integrated with main backend)

#### 4ï¸âƒ£ Agent Runtime
- **Containerization**: Docker-isolated environments
- **Browser Automation**: Playwright integration
- **Code Execution**: E2B Code Interpreter
- **Tool Ecosystem**: Comprehensive toolset
- **Security**: Isolated execution with secure file access

---

## ğŸ’» TECHNOLOGY STACK

### ğŸ–¥ï¸ Frontend Technologies
```json
{
  "framework": "Next.js 15",
  "language": "TypeScript 5+",
  "styling": "Tailwind CSS 4",
  "ui_library": ["Radix UI", "Shadcn/ui"],
  "state_management": ["React Query", "Zustand"],
  "forms": "React Hook Form + Zod",
  "editor": "TipTap",
  "testing": "Playwright + Jest"
}
```

### ğŸ”§ Backend Technologies
```json
{
  "framework": "FastAPI 0.115+",
  "language": "Python 3.11+",
  "database": "Supabase (PostgreSQL)",
  "cache": "Redis 5.2+",
  "queue": "Dramatiq 1.18+",
  "llm": "LiteLLM 1.75+",
  "auth": "Supabase Auth",
  "monitoring": "Langfuse, Sentry",
  "deployment": "Gunicorn + Uvicorn"
}
```

### ğŸ¢ Microservices Technologies
```json
{
  "framework": "NestJS",
  "language": "TypeScript",
  "database": "PostgreSQL per service",
  "documentation": "Swagger/OpenAPI",
  "external_apis": [
    "Moralis", "CoinGecko", 
    "Twitter API", "GitHub API"
  ],
  "messaging": "Redis"
}
```

### ğŸ› ï¸ DevOps & Infrastructure
```json
{
  "containerization": "Docker + Docker Compose",
  "monitoring": ["Prometheus", "Grafana", "Langfuse", "Sentry"],
  "testing": ["Playwright", "Jest", "Pytest"],
  "code_quality": ["ESLint", "Prettier", "Ruff", "MyPy"],
  "version_control": "Git vá»›i Conventional Commits",
  "package_managers": ["pnpm", "uv"],
  "deployment": ["Kubernetes", "Helm"]
}
```

---

## ğŸš€ KEY FEATURES & CAPABILITIES

### ğŸ¤– ChainLens AI Worker Capabilities
1. **ğŸ” Research & Analysis**
   - Multi-source web research
   - Document analysis vÃ  synthesis
   - Market research vÃ  competitive intelligence
   - Comprehensive data processing

2. **ğŸŒ Browser Automation**
   - Complex website navigation
   - Automated data extraction
   - Form filling vÃ  submission
   - Web workflow automation

3. **ğŸ“ File & Document Management**
   - Document creation vÃ  editing (DOC, XLS, PPT)
   - File system organization
   - Format conversion
   - Report generation

4. **ğŸ“Š Data Processing**
   - Dataset cleaning vÃ  transformation
   - Statistical analysis
   - Visualization creation
   - KPI monitoring

5. **âš™ï¸ System Administration**
   - Safe command-line operations
   - System configuration management
   - DevOps workflow automation
   - Performance monitoring

### ğŸ¯ Specialized Agent Types
- **Customer Service Agents**: Support ticket handling, user onboarding
- **Content Creation Agents**: Marketing copy, documentation, training materials
- **Sales & Marketing Agents**: Lead qualification, CRM management, campaigns
- **Research Agents**: Academic research, trend monitoring, patent analysis
- **Industry-Specific Agents**: Healthcare, Finance, Legal, Education

### ğŸ” Security & Compliance Features
- **OWASP Compliance**: Security best practices implementation
- **Automated Vulnerability Scanning**: Continuous security monitoring
- **Row Level Security**: Database-level access controls
- **JWT Authentication**: Secure token-based authentication
- **Docker Isolation**: Secure execution environments

---

## ğŸ“‹ DEVELOPMENT WORKFLOW

### ğŸ—ï¸ Setup Process
```bash
# 1. Clone Repository
git clone https://github.com/epsilon-ai/chainlens.git
cd chainlens

# 2. Interactive Setup (14-step wizard)
python setup.py

# 3. Start Platform
python start.py
```

### ğŸ› ï¸ Development Commands

#### Frontend Development
```bash
cd frontend
pnpm dev              # Development server vá»›i Turbopack
pnpm build            # Production build
pnpm test:all         # Unit + E2E tests
pnpm test:e2e:ui      # Playwright UI mode
pnpm lint && pnpm format  # Code quality
```

#### Backend Development
```bash
cd backend
uv run api.py                          # FastAPI server
uv run dramatiq run_agent_background   # Background worker
uv run pytest --cov                   # Tests vá»›i coverage
ruff check . && ruff format .         # Linting vÃ  formatting
mypy .                                 # Type checking
```

#### Microservices Development
```bash
cd microservices
./start-all-services.sh    # Start táº¥t cáº£ services
./health-check-all.sh      # Health check
./stop-all-services.sh     # Stop services

# Individual service development
cd [service-name]
pnpm run start:dev         # Development mode
pnpm run test:e2e          # E2E testing
```

#### Quality Assurance
```bash
# Comprehensive Testing
./run-e2e-tests.sh         # Full E2E test suite
./test-apis.sh             # API endpoint testing
./dependency-security-scan.sh  # Security scan

# Database Management
supabase start             # Local Supabase
supabase db reset          # Reset database
supabase db push           # Push migrations
```

### ğŸ“ Code Standards
- **Formatting**: Prettier (frontend), Ruff (backend)
- **Linting**: ESLint (frontend), Ruff + MyPy (backend)
- **Type Safety**: Strict TypeScript, Python type hints
- **Commits**: Conventional Commits specification
- **Testing**: Minimum coverage requirements
- **Security**: OWASP compliance checks

---

## ğŸš€ DEPLOYMENT GUIDE

### ğŸ³ Docker Deployment
```bash
# Production Stack
docker compose -f docker-compose.yml -f docker-compose.monitoring.yml up -d

# Monitoring Stack
./setup-monitoring.sh

# Individual Services
docker compose up redis -d      # Redis only
docker compose up frontend -d   # Frontend only
```

### â˜¸ï¸ Kubernetes Deployment
```bash
# Helm Deployment
helm upgrade --install suna ./helm/suna \
  --namespace suna \
  --create-namespace \
  -f values.production.yaml

# Monitoring
kubectl apply -f monitoring/
```

### ğŸ“Š Production Monitoring Stack
- **Metrics**: Prometheus + Grafana dashboards
- **Error Tracking**: Sentry integration (frontend + backend)
- **LLM Observability**: Langfuse tracking
- **Logging**: Centralized logging vá»›i Loki
- **Tracing**: Distributed tracing vá»›i Jaeger
- **Health Checks**: Automated monitoring vá»›i alerting

### âœ… Production Checklist
- [ ] SSL/TLS certificates configured
- [ ] Environment variables secured
- [ ] Database migrations applied
- [ ] Monitoring vÃ  alerting active
- [ ] Backup strategy implemented
- [ ] Security audit completed
- [ ] Performance optimization tuned
- [ ] Disaster recovery plan tested

---

## ğŸ“ˆ PROJECT STATUS & METRICS

### ğŸ¯ Current Status
- **Development Stage**: Production Ready
- **Version**: v1.0 (Backend stable)
- **Architecture**: Microservices vá»›i container orchestration
- **Testing Coverage**: Comprehensive E2E + unit testing
- **Security**: OWASP compliant vá»›i automated scanning

### ğŸ“Š Technical Metrics
- **Languages**: Python (Backend), TypeScript (Frontend/Microservices)
- **Services**: 6 main services (Frontend, Backend, 4 Microservices, 1 Standalone)
- **Database**: PostgreSQL vá»›i Supabase integration
- **Scalability**: Docker + Kubernetes ready
- **Observability**: Full monitoring stack implemented

### ğŸŒŸ Innovation Highlights
- **Multi-LLM Support**: Provider-agnostic vá»›i LiteLLM
- **Agent Runtime**: Secure, isolated execution environments
- **Crypto Integration**: ChainLens specialized crypto analysis
- **Enterprise Ready**: Full production deployment stack
- **Community Driven**: Open source vá»›i active contribution

---

## ğŸ¯ NEXT STEPS & ROADMAP

### ğŸ”® Immediate Priorities
1. **Performance Optimization**: Caching strategies vÃ  query optimization
2. **Enhanced Security**: Advanced threat detection
3. **Agent Marketplace**: Community-driven agent sharing
4. **Mobile Support**: Progressive Web App enhancement
5. **Integration Ecosystem**: Third-party service connectors

### ğŸŒ Strategic Vision
- **Multi-Agent Orchestration**: Complex workflow coordination
- **Enterprise Features**: Advanced user management, audit trails
- **AI Model Training**: Custom model fine-tuning capabilities
- **Global Scaling**: Multi-region deployment support
- **Compliance Frameworks**: Industry-specific compliance tools

---

*ğŸ“ Document generated by BMad Master | Last updated: 2025-01-09 | Version: 1.0*

*ğŸ§™ For technical support vÃ  development guidance, refer to WARP.md vÃ  contributing guidelines*
